<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Texto a Voz</title>
</head>
<body>
    <script>
        function hablar(texto) {
            var msg = new SpeechSynthesisUtterance();
            msg.text = texto;
            msg.lang = 'es-MX'; // Español de México (puedes cambiar a 'es-VE' para Venezuela)
            msg.rate = 1; // Velocidad normal

            // Esperar a que las voces estén cargadas antes de seleccionar una
            speechSynthesis.onvoiceschanged = function() {
                var voices = speechSynthesis.getVoices();
                var vozFemenina = voices.find(voice => 
                    (voice.lang === 'es-MX' || voice.lang === 'es-VE') && 
                    (voice.name.toLowerCase().includes("female") || voice.name.toLowerCase().includes("mujer"))
                );
                msg.voice = vozFemenina || voices.find(voice => voice.lang.startsWith('es')); // Alternativa si no encuentra femenina
                speechSynthesis.speak(msg);
            };

            // Iniciar la reproducción del mensaje
            speechSynthesis.speak(msg);
        }

        // Obtener el texto de la URL y reproducirlo automáticamente
        window.onload = function() {
            let urlParams = new URLSearchParams(window.location.search);
            let texto = urlParams.get("texto");
            if (texto) {
                hablar(decodeURIComponent(texto));
            }
        };
    </script>
</body>
</html>
